# Changelog

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤ –¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ.

–§–æ—Ä–º–∞—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
–∏ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [2.0.0] - 2025-01-25

### üîÑ BREAKING CHANGES
- **–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ iPay API v1.14
- **–ò–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ callback** —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–û–±–Ω–æ–≤–ª–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–ø–∏—Å–∏** —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–≤–æ–∑–≤—Ä–∞—Ç –∫ sha1(microtime()))

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ
- **–ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ iPay API v1.14](https://checkout.ipay.ua/doc)
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π** API v1.14: retry_button, cancel_button
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** —Å auto_redirect_good/bad
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ callback** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π payment_type
- **–£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–¥–º–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å —Ç–µ—Å—Ç–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è API** –≤ docs/API_COMPLIANCE.md

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ callback —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–ø–∏—Å–∏** —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –ø–æ–ª—è info –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** XML —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üîß –£–ª—É—á—à–µ–Ω–æ
- **User-Agent**: `OpenCart-iPay-Module/2.0`
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (ru/ua/en)
- **–î–µ—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –≤ –∫–æ–¥–µ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## [1.1.0] - 2025-01-25

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ
- **–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏** —Å –º–µ—Ç–æ–¥–æ–º `getMethod()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ —á–µ–∫–∞—É—Ç–µ
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–æ–¥—É–ª—è –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- **–¢–µ—Å—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** —Å API iPay –ø—Ä—è–º–æ –∏–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞–ª—é—Ç** (UAH, USD, EUR) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π
- **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è salt** –¥–ª—è –ø–æ–¥–ø–∏—Å–µ–π
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —è–∑—ã–∫–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π) –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- **–£–ª—É—á—à–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –æ–ø–ª–∞—Ç—ã —Å —Ä–µ—Å–ø–æ–Ω—Å–∏–≤–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ debug —Ä–µ–∂–∏–º–µ

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: –∑–∞–º–µ–Ω–∞ `microtime()` –Ω–∞ `random_bytes()` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ salt
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∞** –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–∞–ø–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`paymennt` ‚Üí `payment`)
- **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –∫–æ–¥–∞ –≤ –∞–¥–º–∏–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
- **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ HTTPS** –¥–ª—è production callback'–æ–≤
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫ timing attack** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `hash_equals()`

### üîß –£–ª—É—á—à–µ–Ω–æ
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã cURL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** —Å SSL –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ —Ç–∞–π–º–∞—É—Ç–∞–º–∏
- **–£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è XML** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
- **–î–æ–±–∞–≤–ª–µ–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞** (1 –≥—Ä–Ω) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–∏—Å–∞–Ω–∏–π** –ø–ª–∞—Ç–µ–∂–µ–π —Å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º HTML
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω JavaScript** –≤ —à–∞–±–ª–æ–Ω–µ –æ–ø–ª–∞—Ç—ã —Å –ª—É—á—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- **–î–æ–±–∞–≤–ª–µ–Ω—ã CSS —Å—Ç–∏–ª–∏** –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–£—Å–∏–ª–µ–Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π** —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç timing attacks
- **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ HTTPS** –¥–ª—è production –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ó–∞—â–∏—Ç–∞ –æ—Ç XSS** –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ Merchant ID** (—Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã –∫–ª—é—á–∞** (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –≤ –∫–æ–¥–µ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
- **–î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –º–µ—Ç–æ–¥–æ–≤ —Å PHPDoc
- **–£–ª—É—á—à–µ–Ω—ã —è–∑—ã–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã** —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
- **–î–æ–±–∞–≤–ª–µ–Ω CHANGELOG** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## [1.0.0] - 2024

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ
- –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è iPay –¥–ª—è OpenCart 3.x
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ API iPay.ua 3.02
- –¢–µ—Å—Ç–æ–≤—ã–π –∏ –±–æ–µ–≤–æ–π —Ä–µ–∂–∏–º—ã
- –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ callback'–æ–≤
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è